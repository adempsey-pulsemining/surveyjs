<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css>
		<link type="text/css" rel="stylesheet" href=https://cdn.jsdelivr.net/npm/bootstrap-vue@2.3.0/dist/bootstrap-vue.css />
		<link rel="stylesheet" href="build/survey.css">
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script src="build/survey.js"></script>
	</head>
	<style>
		body, html, #app {
			height: 100%;
		}
	</style>
	<body>
		<div id="app">
			<survey :survey="survey"></survey>
		</div>
	</body>
	<script>
		function guid() {
			return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
				(c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
			);
		}
    let tem = {
			singlePage: false,
			pages: [
				{
					name: "page1",
					elements: [
						{
							name: "question1",
							type: "text",
							visibleIf: "{question2} = false"
						},
						{
							name: "question2",
							type: "boolean"
						},
						{
							name: "question3",
							type: "checkbox",
							choices: [{ name: "choice1" }]
						},
						{
							name: "question4",
							type: "comment"
						},
						{
							name: "question5",
							type: "dropdown",
							choices: [{ name: "choice1" }]
						},
						{
							name: "question6",
							type: "html",
							html: "<div>hello</div>"
						},
						{
							name: "question7",
							colCount: 0,
							type: "multipletext",
							items: [
								{ name: "item1", title: "Item 1" }, 
								{ name: "item2", title: "Item 2" },
								{ name: "item3" }
							]
						},
						{
							name: "question8",
							type: "radio",
							choices: [{ name: "item1" }]
						},
						{
							name: "question9",
							type: "matrix",
							rows: [{ name: "row1", title: "Row 1" }, { name: "Row 2" }],
							columns: [{ name: "column1" }, { name: "column2", title: "Column 2" }]
						},
						{
							name: "question10",
							type: "matrix",
							multipleChoice: true,
							choices: [{ name: "choice1" }],
							rows: [{ name: "row1", title: "Row 1" }, { name: "Row 2" }],
							columns: [{ name: "column1", cellType: "text" }, { name: "column2", title: "Column 2" }]
						},
						{
							name: "question11",
							type: "text"
						}
					]
				},
				{
					name: "page2",
					title: "Page 2",
					elements: [
						
					]
				}
			]
		}
		for (let page of tem.pages) {
			for (let q of page.elements) {
				if (q.type === "group") {
					for (let e of q.elements) {
						e.questionId = guid();
					}
				} else {
					q.questionId = guid();
				}
			}
		}
		let survey = new Survey.Survey(tem);
		console.log(survey);
		survey.onValueChanged = function(question, val) {
			console.log(question, val);
		}
		new Vue({ 
			el: document.getElementById("app"), 
			data: { survey: survey }
		});
	</script>
</html>